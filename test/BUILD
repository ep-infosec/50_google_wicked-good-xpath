# Copyright 2012 Google Inc. All Rights Reserved.
#
# Description:
#   Wicked Good XPath integration tests.

licenses(["notice"])  # MIT

exports_files(["LICENSE"])

package(
    default_visibility = [
        "//third_party/javascript/browser_automation/xpath:__pkg__",
    ],
)

subinclude("//testing/matrix/build_defs:browsers")
subinclude("//testing/matrix/build_defs:closure")

closure_test_suite(
    name = "evaluate_tests",
    srcs = [":test_files"],
    browsers = AllBrowsers(),
    data = glob(["*test_page.html"]) + [
        ":test_js_deps",
        "xhtml_test_page.xhtml",
    ],
    test_timeout = 180,
    deps = [":test_files_deps"],
)

filegroup(
    name = "opensource_files",
    srcs = glob([
        "*.js",
        "*.html",
        "*.xhtml",
    ]) + ["LICENSE"],
    visibility = [
        "//third_party/javascript/browser_automation/xpath/opensource:__pkg__",
    ],
)

#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@
# All rules between these lines generated by GenJsDeps, please do not edit.

js_library(
    name = "all_js",
    srcs = [],
    deps = [":test"],
)

js_library(
    name = "test",
    srcs = ["test.js"],
    deps = [
        "//javascript/closure/dom",
        "//javascript/closure/dom:nodetype",
        "//javascript/closure/useragent",
        "//javascript/closure:base",
    ],
)

js_library(
    name = "test_files_deps",
    testonly = 1,
    srcs = [],
    data = [
        "//javascript/closure:base.js",
        "//third_party/javascript/browser_automation/xpath:wgxpath.install.js",
    ],
    deps = [
        "//javascript/closure/testing:jsunit",
        "//javascript/closure/testing:performancetable",
        "//javascript/closure/testing:performancetimer",
        "//javascript/closure/useragent",
        "//javascript/closure:base",
        "//third_party/javascript/browser_automation/xpath/test",
    ],
)

js_deps(
    name = "test_js_deps",
    testonly = 1,
    srcs = [":test_files_deps"],
    merge_deps = 1,
)

filegroup(
    name = "js_files",
    srcs = glob(["*.js"]),
)

filegroup(
    name = "js_files_recursive",
    srcs = [":js_files"],
)

filegroup(
    name = "test_files",
    srcs = glob([
        "*_test.html",
        "*_test.js",
        "*_test_dom.html",
    ]),
)

filegroup(
    name = "test_files_recursive",
    srcs = [":test_files"],
)

# All rules between these lines generated by GenJsDeps, please do not edit.
#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@#@
